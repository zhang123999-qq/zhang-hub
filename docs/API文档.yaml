# ğŸ”Œ APIæ–‡æ¡£

## æ–‡æ¡£è¯´æ˜
- **APIç‰ˆæœ¬**: v1.0
- **åŸºç¡€URL**: `https://api.codesechub.com/api/v1`
- **è®¤è¯æ–¹å¼**: JWT Bearer Token
- **æ•°æ®æ ¼å¼**: JSON
- **å­—ç¬¦ç¼–ç **: UTF-8

## è®¤è¯æ–¹å¼
### JWTè®¤è¯
```yaml
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: >
        ä½¿ç”¨JWTä»¤ç‰Œè¿›è¡Œè®¤è¯ã€‚
        åœ¨ç™»å½•åè·å–access_tokenï¼Œç„¶ååœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ ï¼š
        Authorization: Bearer <access_token>
```

## å…¨å±€å“åº”å®šä¹‰
```yaml
components:
  schemas:
    ErrorResponse:
      type: object
      properties:
        code:
          type: integer
          description: é”™è¯¯ä»£ç 
          example: 400
        message:
          type: string
          description: é”™è¯¯æ¶ˆæ¯
          example: "è¯·æ±‚å‚æ•°é”™è¯¯"
        details:
          type: object
          description: é”™è¯¯è¯¦æƒ…
          nullable: true
    
    PaginatedResponse:
      type: object
      properties:
        count:
          type: integer
          description: æ€»è®°å½•æ•°
          example: 100
        next:
          type: string
          description: ä¸‹ä¸€é¡µURL
          nullable: true
          example: "http://api.codesechub.com/api/v1/articles?page=2"
        previous:
          type: string
          description: ä¸Šä¸€é¡µURL
          nullable: true
          example: null
        results:
          type: array
          description: æ•°æ®åˆ—è¡¨
```

## ç”¨æˆ·è®¤è¯API

### 1. ç”¨æˆ·æ³¨å†Œ
```yaml
paths:
  /auth/register/:
    post:
      tags:
        - è®¤è¯
      summary: ç”¨æˆ·æ³¨å†Œ
      description: æ³¨å†Œæ–°ç”¨æˆ·è´¦æˆ·
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - email
                - password
                - password2
              properties:
                username:
                  type: string
                  minLength: 3
                  maxLength: 50
                  description: ç”¨æˆ·å
                  example: "newuser"
                email:
                  type: string
                  format: email
                  description: é‚®ç®±åœ°å€
                  example: "user@example.com"
                password:
                  type: string
                  minLength: 8
                  description: å¯†ç 
                  example: "StrongPassword123!"
                password2:
                  type: string
                  description: ç¡®è®¤å¯†ç 
                  example: "StrongPassword123!"
      responses:
        '201':
          description: æ³¨å†ŒæˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 201
                  message:
                    type: string
                    example: "æ³¨å†ŒæˆåŠŸ"
                  data:
                    type: object
                    properties:
                      user:
                        $ref: '#/components/schemas/UserProfile'
                      access:
                        type: string
                        description: JWTè®¿é—®ä»¤ç‰Œ
                        example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
                      refresh:
                        type: string
                        description: JWTåˆ·æ–°ä»¤ç‰Œ
                        example: "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9..."
        '400':
          description: æ³¨å†Œå¤±è´¥
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
```

### 2. ç”¨æˆ·ç™»å½•
```yaml
paths:
  /auth/login/:
    post:
      tags:
        - è®¤è¯
      summary: ç”¨æˆ·ç™»å½•
      description: ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç ç™»å½•
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - username
                - password
              properties:
                username:
                  type: string
                  description: ç”¨æˆ·åæˆ–é‚®ç®±
                  example: "admin"
                password:
                  type: string
                  description: å¯†ç 
                  example: "Admin123!"
      responses:
        '200':
          description: ç™»å½•æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  message:
                    type: string
                    example: "ç™»å½•æˆåŠŸ"
                  data:
                    type: object
                    properties:
                      user:
                        $ref: '#/components/schemas/UserProfile'
                      access:
                        type: string
                        description: JWTè®¿é—®ä»¤ç‰Œ
                      refresh:
                        type: string
                        description: JWTåˆ·æ–°ä»¤ç‰Œ
        '401':
          description: è®¤è¯å¤±è´¥
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'
```

## ç”¨æˆ·ç®¡ç†API

### 1. è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
```yaml
paths:
  /users/me/:
    get:
      tags:
        - ç”¨æˆ·
      summary: è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯
      description: è·å–å½“å‰ç™»å½•ç”¨æˆ·çš„è¯¦ç»†ä¿¡æ¯
      security:
        - BearerAuth: []
      responses:
        '200':
          description: æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    $ref: '#/components/schemas/UserProfile'
```

### 2. æ›´æ–°ç”¨æˆ·ä¿¡æ¯
```yaml
paths:
  /users/me/:
    patch:
      tags:
        - ç”¨æˆ·
      summary: æ›´æ–°ç”¨æˆ·ä¿¡æ¯
      description: æ›´æ–°å½“å‰ç™»å½•ç”¨æˆ·çš„ä¿¡æ¯
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                bio:
                  type: string
                  description: ä¸ªäººç®€ä»‹
                  maxLength: 500
                  example: "ç½‘ç»œå®‰å…¨ç ”ç©¶å‘˜"
                github_url:
                  type: string
                  format: uri
                  description: GitHubé“¾æ¥
                  example: "https://github.com/username"
                skills:
                  type: array
                  items:
                    type: string
                  description: æŠ€èƒ½æ ‡ç­¾
                  example: ["Python", "æ¸—é€æµ‹è¯•", "æ¼æ´åˆ†æ"]
                avatar:
                  type: string
                  format: uri
                  description: å¤´åƒURL
      responses:
        '200':
          description: æ›´æ–°æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  message:
                    type: string
                    example: "æ›´æ–°æˆåŠŸ"
                  data:
                    $ref: '#/components/schemas/UserProfile'
```

## åšå®¢ç³»ç»ŸAPI

### 1. è·å–æ–‡ç« åˆ—è¡¨
```yaml
paths:
  /blog/articles/:
    get:
      tags:
        - åšå®¢
      summary: è·å–æ–‡ç« åˆ—è¡¨
      description: è·å–æ–‡ç« åˆ—è¡¨ï¼Œæ”¯æŒåˆ†é¡µã€æœç´¢ã€è¿‡æ»¤å’Œæ’åº
      parameters:
        - name: page
          in: query
          schema:
            type: integer
            default: 1
            minimum: 1
          description: é¡µç 
        - name: page_size
          in: query
          schema:
            type: integer
            default: 10
            minimum: 1
            maximum: 100
          description: æ¯é¡µæ•°é‡
        - name: search
          in: query
          schema:
            type: string
          description: æœç´¢å…³é”®è¯
        - name: category
          in: query
          schema:
            type: string
          description: åˆ†ç±»slug
        - name: tag
          in: query
          schema:
            type: string
          description: æ ‡ç­¾slug
        - name: author
          in: query
          schema:
            type: string
          description: ä½œè€…ç”¨æˆ·å
        - name: status
          in: query
          schema:
            type: string
            enum: [draft, published, archived]
          description: æ–‡ç« çŠ¶æ€
        - name: ordering
          in: query
          schema:
            type: string
            enum: [created_at, -created_at, updated_at, -updated_at, view_count, -view_count]
          description: æ’åºå­—æ®µ
      responses:
        '200':
          description: æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    $ref: '#/components/schemas/PaginatedResponse'
                    properties:
                      results:
                        type: array
                        items:
                          $ref: '#/components/schemas/ArticleList'
```

### 2. åˆ›å»ºæ–‡ç« 
```yaml
paths:
  /blog/articles/:
    post:
      tags:
        - åšå®¢
      summary: åˆ›å»ºæ–‡ç« 
      description: åˆ›å»ºæ–°çš„åšå®¢æ–‡ç« 
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - content
                - category
              properties:
                title:
                  type: string
                  minLength: 1
                  maxLength: 200
                  description: æ–‡ç« æ ‡é¢˜
                  example: "å¦‚ä½•é˜²æŠ¤XSSæ”»å‡»"
                content:
                  type: string
                  description: æ–‡ç« å†…å®¹ï¼ˆMarkdownæ ¼å¼ï¼‰
                  example: "# XSSé˜²æŠ¤æŒ‡å—\n\nè·¨ç«™è„šæœ¬æ”»å‡»..."
                summary:
                  type: string
                  maxLength: 500
                  description: æ–‡ç« æ‘˜è¦
                  example: "æœ¬æ–‡ä»‹ç»XSSæ”»å‡»çš„åŸç†å’Œé˜²æŠ¤æ–¹æ³•"
                category:
                  type: integer
                  description: åˆ†ç±»ID
                  example: 1
                tags:
                  type: array
                  items:
                    type: integer
                  description: æ ‡ç­¾IDåˆ—è¡¨
                  example: [1, 2, 3]
                cover_image:
                  type: string
                  format: uri
                  description: å°é¢å›¾ç‰‡URL
                status:
                  type: string
                  enum: [draft, review, published]
                  default: draft
                  description: æ–‡ç« çŠ¶æ€
                is_featured:
                  type: boolean
                  default: false
                  description: æ˜¯å¦æ¨è
                allow_comments:
                  type: boolean
                  default: true
                  description: æ˜¯å¦å…è®¸è¯„è®º
                meta_title:
                  type: string
                  description: SEOæ ‡é¢˜
                meta_description:
                  type: string
                  description: SEOæè¿°
                meta_keywords:
                  type: string
                  description: SEOå…³é”®è¯
      responses:
        '201':
          description: åˆ›å»ºæˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 201
                  message:
                    type: string
                    example: "æ–‡ç« åˆ›å»ºæˆåŠŸ"
                  data:
                    $ref: '#/components/schemas/ArticleDetail'
```

## æ•°æ®æ¨¡å‹å®šä¹‰

```yaml
components:
  schemas:
    UserProfile:
      type: object
      properties:
        id:
          type: integer
          description: ç”¨æˆ·ID
          example: 1
        username:
          type: string
          description: ç”¨æˆ·å
          example: "security_expert"
        email:
          type: string
          format: email
          description: é‚®ç®±
          example: "expert@example.com"
        role:
          type: string
          enum: [visitor, user, researcher, admin]
          description: ç”¨æˆ·è§’è‰²
          example: "researcher"
        bio:
          type: string
          nullable: true
          description: ä¸ªäººç®€ä»‹
          example: "ç½‘ç»œå®‰å…¨ç ”ç©¶å‘˜"
        github_url:
          type: string
          format: uri
          nullable: true
          description: GitHubé“¾æ¥
          example: "https://github.com/security_expert"
        skills:
          type: array
          items:
            type: string
          description: æŠ€èƒ½åˆ—è¡¨
          example: ["Python", "æ¸—é€æµ‹è¯•", "æ¼æ´åˆ†æ"]
        reputation:
          type: integer
          description: å£°æœ›å€¼
          example: 100
        avatar:
          type: string
          format: uri
          nullable: true
          description: å¤´åƒURL
        is_active:
          type: boolean
          description: æ˜¯å¦æ´»è·ƒ
          example: true
        date_joined:
          type: string
          format: date-time
          description: æ³¨å†Œæ—¶é—´
    
    ArticleList:
      type: object
      properties:
        id:
          type: integer
          description: æ–‡ç« ID
          example: 1
        title:
          type: string
          description: æ–‡ç« æ ‡é¢˜
          example: "XSSæ”»å‡»ä¸é˜²æŠ¤"
        slug:
          type: string
          description: URLæ ‡è¯†
          example: "xss-attack-and-defense"
        summary:
          type: string
          description: æ–‡ç« æ‘˜è¦
          example: "æœ¬æ–‡ä»‹ç»XSSæ”»å‡»çš„åŸç†å’Œé˜²æŠ¤æ–¹æ³•..."
        author:
          $ref: '#/components/schemas/UserSimple'
        category:
          $ref: '#/components/schemas/Category'
        tags:
          type: array
          items:
            $ref: '#/components/schemas/Tag'
        cover_image:
          type: string
          format: uri
          nullable: true
          description: å°é¢å›¾ç‰‡
        status:
          type: string
          enum: [draft, review, published, archived]
          description: æ–‡ç« çŠ¶æ€
          example: "published"
        is_featured:
          type: boolean
          description: æ˜¯å¦æ¨è
          example: false
        view_count:
          type: integer
          description: æµè§ˆæ¬¡æ•°
          example: 150
        like_count:
          type: integer
          description: ç‚¹èµæ•°
          example: 25
        comment_count:
          type: integer
          description: è¯„è®ºæ•°
          example: 8
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´
        published_at:
          type: string
          format: date-time
          nullable: true
          description: å‘å¸ƒæ—¶é—´
        read_time:
          type: integer
          description: é˜…è¯»æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰
          example: 5
    
    ArticleDetail:
      allOf:
        - $ref: '#/components/schemas/ArticleList'
        - type: object
          properties:
            content:
              type: string
              description: æ–‡ç« å†…å®¹ï¼ˆMarkdownæ ¼å¼ï¼‰
            meta_title:
              type: string
              nullable: true
              description: SEOæ ‡é¢˜
            meta_description:
              type: string
              nullable: true
              description: SEOæè¿°
            meta_keywords:
              type: string
              nullable: true
              description: SEOå…³é”®è¯
    
    UserSimple:
      type: object
      properties:
        id:
          type: integer
          description: ç”¨æˆ·ID
        username:
          type: string
          description: ç”¨æˆ·å
        avatar:
          type: string
          format: uri
          nullable: true
          description: å¤´åƒURL
    
    Category:
      type: object
      properties:
        id:
          type: integer
          description: åˆ†ç±»ID
        name:
          type: string
          description: åˆ†ç±»åç§°
        slug:
          type: string
          description: URLæ ‡è¯†
        description:
          type: string
          nullable: true
          description: åˆ†ç±»æè¿°
        icon:
          type: string
          description: å›¾æ ‡åç§°
        article_count:
          type: integer
          description: æ–‡ç« æ•°é‡
    
    Tag:
      type: object
      properties:
        id:
          type: integer
          description: æ ‡ç­¾ID
        name:
          type: string
          description: æ ‡ç­¾åç§°
        slug:
          type: string
          description: URLæ ‡è¯†
        color:
          type: string
          description: æ ‡ç­¾é¢œè‰²
        article_count:
          type: integer
          description: æ–‡ç« æ•°é‡

    ThreadList:
      type: object
      properties:
        id:
          type: integer
          description: å¸–å­ID
        title:
          type: string
          description: å¸–å­æ ‡é¢˜
        slug:
          type: string
          description: URLæ ‡è¯†
        author:
          $ref: '#/components/schemas/UserSimple'
        category:
          $ref: '#/components/schemas/ForumCategory'
        status:
          type: string
          enum: [normal, sticky, featured, closed]
          description: å¸–å­çŠ¶æ€
        view_count:
          type: integer
          description: æµè§ˆæ•°
        reply_count:
          type: integer
          description: å›å¤æ•°
        like_count:
          type: integer
          description: ç‚¹èµæ•°
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
        updated_at:
          type: string
          format: date-time
          description: æ›´æ–°æ—¶é—´
        last_reply_at:
          type: string
          format: date-time
          description: æœ€åå›å¤æ—¶é—´
        last_reply_by:
          $ref: '#/components/schemas/UserSimple'
          nullable: true
          description: æœ€åå›å¤ç”¨æˆ·
    
    ResourceList:
      type: object
      properties:
        id:
          type: integer
          description: èµ„æºID
        title:
          type: string
          description: èµ„æºæ ‡é¢˜
        description:
          type: string
          description: èµ„æºæè¿°
        author:
          $ref: '#/components/schemas/UserSimple'
        category:
          $ref: '#/components/schemas/ResourceCategory'
        resource_type:
          type: string
          enum: [tool, document, video, code, other]
          description: èµ„æºç±»å‹
        download_url:
          type: string
          format: uri
          nullable: true
          description: ä¸‹è½½é“¾æ¥
        file:
          type: string
          format: uri
          nullable: true
          description: æ–‡ä»¶URL
        download_count:
          type: integer
          description: ä¸‹è½½æ¬¡æ•°
        rating_average:
          type: number
          format: float
          minimum: 0
          maximum: 5
          description: å¹³å‡è¯„åˆ†
        rating_count:
          type: integer
          description: è¯„åˆ†äººæ•°
        tags:
          type: array
          items:
            type: string
          description: èµ„æºæ ‡ç­¾
        version:
          type: string
          nullable: true
          description: ç‰ˆæœ¬å·
        created_at:
          type: string
          format: date-time
          description: åˆ›å»ºæ—¶é—´
```

## APIé”™è¯¯ç å®šä¹‰

```yaml
components:
  responses:
    BadRequest:
      description: è¯·æ±‚å‚æ•°é”™è¯¯
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
            example:
              code: 400
              message: "è¯·æ±‚å‚æ•°é”™è¯¯"
              details:
                username: ["è¯¥ç”¨æˆ·åå·²å­˜åœ¨"]
                email: ["è¯¥é‚®ç®±å·²è¢«æ³¨å†Œ"]
    
    Unauthorized:
      description: æœªè®¤è¯æˆ–è®¤è¯å¤±è´¥
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
            example:
              code: 401
              message: "è®¤è¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç”¨æˆ·åå’Œå¯†ç "
    
    Forbidden:
      description: æƒé™ä¸è¶³
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
            example:
              code: 403
              message: "æ‚¨æ²¡æœ‰æƒé™æ‰§è¡Œæ­¤æ“ä½œ"
    
    NotFound:
      description: èµ„æºä¸å­˜åœ¨
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
            example:
              code: 404
              message: "è¯·æ±‚çš„èµ„æºä¸å­˜åœ¨"
    
    TooManyRequests:
      description: è¯·æ±‚è¿‡äºé¢‘ç¹
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
            example:
              code: 429
              message: "è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åå†è¯•"
              details:
                retry_after: 60
    
    InternalServerError:
      description: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
            example:
              code: 500
              message: "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åå†è¯•"
```

## è¯·æ±‚ç¤ºä¾‹

```yaml
paths:
  /blog/articles/{slug}/:
    get:
      tags:
        - åšå®¢
      summary: è·å–æ–‡ç« è¯¦æƒ…
      description: æ ¹æ®slugè·å–æ–‡ç« è¯¦ç»†ä¿¡æ¯
      parameters:
        - name: slug
          in: path
          required: true
          schema:
            type: string
          description: æ–‡ç« slug
      responses:
        '200':
          description: æˆåŠŸ
          content:
            application/json:
              schema:
                type: object
                properties:
                  code:
                    type: integer
                    example: 200
                  data:
                    $ref: '#/components/schemas/ArticleDetail'
              examples:
                success:
                  summary: æˆåŠŸå“åº”ç¤ºä¾‹
                  value:
                    code: 200
                    data:
                      id: 1
                      title: "XSSæ”»å‡»ä¸é˜²æŠ¤"
                      slug: "xss-attack-and-defense"
                      content: "# XSSæ”»å‡»\n\nè·¨ç«™è„šæœ¬æ”»å‡»..."
                      summary: "æœ¬æ–‡ä»‹ç»XSSæ”»å‡»çš„åŸç†å’Œé˜²æŠ¤æ–¹æ³•"
                      author:
                        id: 1
                        username: "security_expert"
                        avatar: "https://example.com/avatar.jpg"
                      category:
                        id: 1
                        name: "Webå®‰å…¨"
                        slug: "web-security"
                      tags:
                        - id: 1
                          name: "XSS"
                          slug: "xss"
                          color: "#ff6b6b"
                      view_count: 150
                      like_count: 25
                      comment_count: 8
                      created_at: "2023-10-01T10:00:00Z"
                      updated_at: "2023-10-01T10:00:00Z"
                      published_at: "2023-10-01T10:00:00Z"
                      read_time: 5
        '404':
          $ref: '#/components/responses/NotFound'
```

## APIä½¿ç”¨ç¤ºä¾‹ä»£ç 

```yaml
x-code-samples:
  - lang: JavaScript
    label: 'JavaScript (Fetch)'
    source: |
      // ç”¨æˆ·ç™»å½•
      async function login(username, password) {
        const response = await fetch('https://api.codesechub.com/api/v1/auth/login/', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({
            username: username,
            password: password
          })
        });
        
        const data = await response.json();
        
        if (data.code === 200) {
          // ä¿å­˜token
          localStorage.setItem('access_token', data.data.access);
          localStorage.setItem('refresh_token', data.data.refresh);
          return data.data.user;
        } else {
          throw new Error(data.message);
        }
      }
      
      // è·å–æ–‡ç« åˆ—è¡¨
      async function getArticles(page = 1, pageSize = 10) {
        const token = localStorage.getItem('access_token');
        
        const response = await fetch(
          `https://api.codesechub.com/api/v1/blog/articles/?page=${page}&page_size=${pageSize}`,
          {
            headers: {
              'Authorization': `Bearer ${token}`
            }
          }
        );
        
        return await response.json();
      }

  - lang: Python
    label: 'Python (requests)'
    source: |
      import requests
      
      # ç”¨æˆ·ç™»å½•
      def login(username, password):
          url = "https://api.codesechub.com/api/v1/auth/login/"
          data = {
              "username": username,
              "password": password
          }
          
          response = requests.post(url, json=data)
          result = response.json()
          
          if result["code"] == 200:
              token = result["data"]["access"]
              return token
          else:
              raise Exception(result["message"])
      
      # åˆ›å»ºæ–‡ç« 
      def create_article(token, title, content, category_id):
          url = "https://api.codesechub.com/api/v1/blog/articles/"
          headers = {
              "Authorization": f"Bearer {token}",
              "Content-Type": "application/json"
          }
          data = {
              "title": title,
              "content": content,
              "category": category_id,
              "status": "published"
          }
          
          response = requests.post(url, headers=headers, json=data)
          return response.json()

  - lang: cURL
    label: 'cURL'
    source: |
      # ç”¨æˆ·ç™»å½•
      curl -X POST "https://api.codesechub.com/api/v1/auth/login/" \
        -H "Content-Type: application/json" \
        -d '{"username": "admin", "password": "Admin123!"}'
      
      # è·å–æ–‡ç« åˆ—è¡¨ï¼ˆä½¿ç”¨tokenï¼‰
      curl -X GET "https://api.codesechub.com/api/v1/blog/articles/?page=1&page_size=10" \
        -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
      
      # åˆ›å»ºæ–‡ç« 
      curl -X POST "https://api.codesechub.com/api/v1/blog/articles/" \
        -H "Authorization: Bearer YOUR_ACCESS_TOKEN" \
        -H "Content-Type: application/json" \
        -d '{
          "title": "æµ‹è¯•æ–‡ç« ",
          "content": "æµ‹è¯•å†…å®¹",
          "category": 1,
          "tags": [1, 2]
        }'
```

## WebSocket APIæ–‡æ¡£

```yaml
paths:
  /ws/notifications/:
    websocket:
      tags:
        - å®æ—¶é€šä¿¡
      summary: é€šçŸ¥WebSocketè¿æ¥
      description: å»ºç«‹WebSocketè¿æ¥æ¥æ”¶å®æ—¶é€šçŸ¥
      parameters:
        - name: token
          in: query
          required: true
          schema:
            type: string
          description: JWTè®¿é—®ä»¤ç‰Œ
      message:
        oneOf:
          - schema:
              type: object
              properties:
                type:
                  type: string
                  enum: [notification, message, system]
                  description: æ¶ˆæ¯ç±»å‹
                data:
                  type: object
                  description: æ¶ˆæ¯æ•°æ®
              example:
                type: notification
                data:
                  id: 1
                  title: "æ–°è¯„è®º"
                  content: "ç”¨æˆ·Aè¯„è®ºäº†æ‚¨çš„æ–‡ç« "
                  created_at: "2023-10-01T10:00:00Z"
                  read: false
```

## APIç‰ˆæœ¬æ§åˆ¶

```yaml
info:
  title: CodeSecHub API
  version: v1.0
  description: |
    CodeSecHub APIæ–‡æ¡£
    
    ## ç‰ˆæœ¬æ§åˆ¶
    å½“å‰ç‰ˆæœ¬ï¼šv1.0
    
    ### ç‰ˆæœ¬ç­–ç•¥
    - URLè·¯å¾„ç‰ˆæœ¬æ§åˆ¶ï¼š/api/v1/
    - å‘åå…¼å®¹åŸåˆ™
    - å¼ƒç”¨é€šçŸ¥æå‰3ä¸ªæœˆ
    
    ### å¼ƒç”¨è®¡åˆ’
    | ç‰ˆæœ¬ | çŠ¶æ€ | å¼ƒç”¨æ—¥æœŸ | åœæ­¢æ”¯æŒæ—¥æœŸ |
    |------|------|----------|--------------|
    | v0.9 | å·²å¼ƒç”¨ | 2023-06-01 | 2023-12-01 |
    | v1.0 | å½“å‰ | - | 2024-12-01 |
    
    ### å‡çº§æŒ‡å—
    ä»v0.9å‡çº§åˆ°v1.0ï¼š
    1. å°†API URLä» `/api/v0.9/` æ”¹ä¸º `/api/v1/`
    2. æ›´æ–°è®¤è¯æ–¹å¼ä¸ºJWT
    3. è°ƒæ•´å“åº”æ ¼å¼
```